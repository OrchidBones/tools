<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>法语词汇测试工具 | VocabTest</title>
        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
        <!-- jQuery -->
        <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
        <!-- Bootstrap JS -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
        <!-- 本地脚本 -->
         <script src="./main.js"></script>
        <!-- 图标库 -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
        <!-- 本地样式 -->
        <link rel="stylesheet" href="./style.css">
    </head>
    <body>
        <!-- 导航栏 -->
        <nav class="navbar navbar-expand-lg navbar-custom">
            <div class="container">
                <a class="navbar-brand" href="#">
                    <i class="bi bi-book-half"></i>
                    法语词汇测试工具
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon navbar-dark"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item">
                            <a class="nav-link active" id="nav-home" href="#">首页</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="nav-comprehensive" href="#">综合练习</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="nav-specialized" href="#">专项训练</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="nav-vocab-book" href="#">单词本</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" data-bs-toggle="modal" data-bs-target="#aboutModal">关于</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <!-- 关于模态框 -->
        <div class="modal fade" id="aboutModal" tabindex="-1" aria-labelledby="aboutModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content rounded-20">
                    <div class="modal-header bg-primary text-white">
                        <h5 class="modal-title" id="aboutModalLabel">关于本工具</h5>
                        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body p-4">
                        <p>法语词汇测试工具是一款专为法语学习者设计的在线练习工具，支持：</p>
                        <ul class="list-unstyled mt-3">
                            <li><i class="bi bi-check-circle text-success"></i> 综合练习（20道随机题目）</li>
                            <li><i class="bi bi-check-circle text-success"></i> 专项训练（10道针对性题目）</li>
                            <li><i class="bi bi-check-circle text-success"></i> 词汇意思、阴阳性、动词变位等多维度考查</li>
                            <li><i class="bi bi-check-circle text-success"></i> 错题回顾与单词本复习功能</li>
                            <li><i class="bi bi-check-circle text-success"></i> 基于外部JSON文件的可扩展词汇库</li>
                        </ul>
                        <p class="mt-3 text-muted">© 2025 法语词汇测试工具 - 提升你的法语词汇能力</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">关闭</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="app-container">
            <div class="card-wrapper">
                <!-- 头部 -->
                <div class="app-header">
                    <h1>法语词汇测试工具</h1>
                    <p>高效提升你的法语词汇能力，支持综合练习、专项训练与单词复习</p>
                </div>

                <!-- 内容区域 -->
                <div class="app-content">
                    <!-- 加载状态 -->
                    <div id="loading-screen">
                        <div class="loader"></div>
                        <p class="text-center">加载词汇数据中...</p>
                    </div>

                    <!-- 欢迎界面 -->
                    <div id="welcome-screen" class="hidden">
                        <div class="text-center mb-5">
                            <h2 class="mb-4">选择测试模式</h2>
                            <p class="text-muted mb-5">根据你的学习需求选择合适的练习方式</p>
                        </div>
                        
                        <div class="d-grid gap-3">
                            <button id="comprehensive-btn" class="btn btn-primary welcome-btn">
                                <i class="bi bi-journal-bookmark-fill"></i>
                                综合练习 <span class="badge bg-light text-primary ms-2">20题</span>
                            </button>
                            <button id="specialized-btn" class="btn btn-success welcome-btn">
                                <i class="bi bi-list-ul"></i>
                                专项训练 <span class="badge bg-light text-success ms-2">10题</span>
                            </button>
                            <button id="vocab-book-btn" class="btn btn-info welcome-btn">
                                <i class="bi bi-book-fill"></i>
                                单词本 <span class="badge bg-light text-info ms-2">复习词汇</span>
                            </button>
                        </div>
                    </div>

                    <!-- 专项训练选择界面 -->
                    <div id="specialized-select" class="hidden">
                        <div class="text-center mb-5">
                            <h2 class="mb-3">选择训练类型</h2>
                            <p class="text-muted">针对薄弱环节进行强化训练</p>
                            <div class="question-count-hint">
                                <i class="bi bi-info-circle"></i> 本次训练共10道题目
                            </div>
                        </div>

                        <div class="specialized-option" data-type="meaning">
                            <i class="bi bi-translate"></i>
                            <div>
                                <h4>词汇意思</h4>
                                <p>中法互译，强化词汇理解</p>
                            </div>
                        </div>

                        <div class="specialized-option" data-type="gender">
                            <i class="bi bi-gender-ambiguous"></i>
                            <div>
                                <h4>词汇阴阳性</h4>
                                <p>掌握名词、形容词的阴阳性属性</p>
                            </div>
                        </div>

                        <div class="specialized-option" data-type="gender-form">
                            <i class="bi bi-mask"></i>
                            <div>
                                <h4>对应阴/阳性形式</h4>
                                <p>练习词汇的阴阳形式转换</p>
                            </div>
                        </div>

                        <div class="specialized-option" data-type="conjugation">
                            <i class="bi bi-arrow-repeat"></i>
                            <div>
                                <h4>动词变位</h4>
                                <p>掌握常用动词的变位规则</p>
                            </div>
                        </div>

                        <div class="d-grid gap-2 mt-5">
                            <button class="btn btn-secondary" id="back-to-welcome">
                                <i class="bi bi-arrow-left"></i> 返回
                            </button>
                        </div>
                    </div>

                    <!-- 测试答题界面 -->
                    <div id="quiz-screen" class="hidden">
                        <div class="question-header">
                            <h3 class="mb-0">当前题目</h3>
                            <div class="question-count" id="question-count">1/20</div>
                        </div>
                        
                        <div class="question-card">
                            <p class="question-text" id="question-text"></p>
                        </div>
                        
                        <div id="options-container"></div>
                        
                        <div id="feedback"></div>
                        
                        <div class="d-grid gap-2 mt-4">
                            <button id="next-question" class="btn btn-primary hidden">
                                <span>下一题</span>
                                <i class="bi bi-arrow-right"></i>
                            </button>
                        </div>
                    </div>

                    <!-- 测试结果界面 -->
                    <div id="result-screen" class="hidden">
                        <div class="result-card">
                            <h3 class="text-center">测试完成！</h3>
                            <div id="total-questions-hint" class="text-muted mb-2"></div>
                            <div class="score-display" id="score">0</div>
                            <div class="accuracy-display">正确率: <span id="accuracy">0</span>%</div>
                            <p class="text-muted">继续加油！</p>
                        </div>
                        
                        <!-- 错题展示区 -->
                        <div id="wrong-answers-container" class="wrong-answers-section hidden">
                            <h3><i class="bi bi-exclamation-triangle"></i> 错题回顾</h3>
                            <div id="wrong-answers-list"></div>
                        </div>
                        
                        <div class="d-grid gap-2">
                            <button id="restart-quiz" class="btn btn-success">
                                <i class="bi bi-arrow-counterclockwise"></i> 重新测试
                            </button>
                            <button id="back-to-select" class="btn btn-secondary">
                                <i class="bi bi-house"></i> 返回选择界面
                            </button>
                        </div>
                    </div>

                    <!-- 单词本界面 -->
                    <div id="vocab-book-screen" class="vocab-book-screen hidden">
                        <div class="vocab-book-header">
                            <div>
                                <input type="text" id="vocab-search" class="vocab-search-input" placeholder="搜索法语/中文词汇...">
                            </div>
                            <div class="sort-controls">
                                <span class="sort-label">排序方式:</span>
                                <select id="vocab-sort" class="sort-select">
                                    <option value="alphabetical">按字母顺序</option>
                                    <option value="part-of-speech">按词性</option>
                                    <option value="gender">按阴阳性</option>
                                </select>
                            </div>
                            <div class="vocab-book-filter">
                                <button class="btn btn-light active" id="filter-all">全部</button>
                                <button class="btn btn-light" id="filter-nouns">名词</button>
                                <button class="btn btn-light" id="filter-verbs">动词</button>
                                <button class="btn btn-light" id="filter-adjectives">形容词</button>
                                <button class="btn btn-light" id="filter-preposition">介词</button>
                            </div>
                        </div>
                        
                        <div id="vocab-list-container"></div>
                        
                        <div id="no-vocab-found" class="no-vocab-message hidden">
                            <i class="bi bi-bookmarks"></i>
                            <h4>未找到匹配的词汇</h4>
                            <p class="mt-2">请尝试其他搜索关键词或筛选条件</p>
                        </div>

                        <div class="pagination-container" id="pagination-container">
                            <nav>
                                <ul class="pagination" id="pagination">
                                    <!-- 分页控件将通过JS动态生成 -->
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>